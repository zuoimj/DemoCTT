@using MvcPaging
@using PagedList.Mvc;
@{
    ViewBag.Title = "Index";
}
<style>
    .post-content img {
        max-width: 782px;
    }
</style>
    <span></span>
    <div class="page-header">
        <h1>Quản lý ứng viên</h1>
    </div>

    <div class="row">
        <div class="col-md-12">
            <!-- PAGE CONTENT BEGINS -->
            <form class="form-horizontal" action="@Url.Action("Index" , "Candidates")" role="form">
                <div class="form-group">
                    <div class="col-sm-4">
                        <label class="col-sm-4 control-label" for="form-field-1">Ứng viên: </label>
                        <div class="col-sm-8">
                            <input type="text" name="Candidate_Name" value="" placeholder="Nhập tên ứng viên" class="form-control">
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <label class="col-sm-4 control-label" for="form-field-1">Phòng ban: </label>
                        <div class="col-sm-8">
                            @if (ViewBag.GroupList != null)
                            {
                                @Html.DropDownList("Group_Id", (IEnumerable<SelectListItem>)ViewBag.GroupList, "Tất cả", new { @class = "form-control search-select", data_style = "btn-primary", aria_expanded = "false" })
                            }

                        </div>
                    </div>
                    <div class="col-sm-4">
                        <label class="col-sm-4 control-label" for="form-field-1">Vị trí: </label>
                        <div class="col-sm-8">
                            @if (ViewBag.GroupList != null)
                            {
                                @Html.DropDownList("Job_Id", (IEnumerable<SelectListItem>)ViewBag.JobList, "Tất cả", new { @class = "form-control search-select", data_style = "btn-primary", aria_expanded = "false" })
                            }

                        </div>
                    </div>

                </div>
                <div class="form-group">
                    <div class="col-sm-4">
                        <label class="col-sm-4 control-label" for="form-field-1">Trạng thái: </label>
                        <div class="col-sm-8">
                            <select class="form-control search-select " id="status" name="status">
                                <option value="0" selected>Tất cả</option>
                                <option value="1">Chưa xem</option>
                                <option value="5">Đã xem</option>
                                <option value="2">Chờ phỏng vấn</option>
                                <option value="3">Duyệt</option>
                                <option value="4">Loại</option>
                            </select>
                        </div>
                    </div>
                  
                </div>
                <div class="clear"></div>
                <div class="clearfix form-actions center">
                    <button class="btn btn-primary btn-sm" type="submit">Tìm kiếm</button>
                </div>
            </form>
            <!-- /.col -->
        </div>
    </div>
    <div class="pager">

        <ul class="pager" style="float:right"> @Html.Pager((int)ViewBag.pagesize, (int)ViewBag.pageno, (int)ViewBag.totalrow).Options(o => o.Action("Index").RouteValues(new { Candidate_Name = ViewBag.currentFilter, Job_Id = ViewBag.jobidFilter, Group_Id = ViewBag.groupidFilter, status = ViewBag.statusFilter }))</ul>

</div>
    <div class="row">
        <div class="col-xs-12">
            <!-- PAGE CONTENT BEGINS -->
            <table class="table table-striped table-hover" id="sample-table-2">
                <thead>
                    <tr>
                        <th width="20" class="center">#</th>
                        <th class="left">Tên ứng viên</th>
                        <th class="center">Vị trí</th>
                        <th class="center">Phòng ban</th>
                        <th class="center">Giới tính</th>
                        <th class="center">Điện thoại</th>
                        <th class="center">Email</th>
                        <th class="center">Ngày tạo</th>
                        <th class="center">Trạng thái</th>
                        <th class="center">Thêm</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var item in ViewBag.lstCandidates)
                    {
                        <tr>
                            <td>@item.ROWNUMBER</td>
                            <td class="left"><a href="@Url.Action("Edit")?id=@item.CV_ID"> @item.CANDIDATE_NAME</a></td>
                            <td>@item.JOB_NAME</td>
                            <td>@item.GROUP_NAME</td>
                            @if (@item.SEX == 1)
                            {
                                <td><span class="label label-default">Nam</span></td>
                            }
                            else if(@item.SEX == 0)
                            {
                                <td><span class="label label-green">Nữ</span></td>
                            }
                            <td>@item.PHONENUMBER</td>
                            <td>@item.EMAIL</td>
                            <td>@item.CREATED_DATE</td>

                            @if (@item.CV_STATUS == 1)
                            {
                                <td><span class="label label-warning">Chưa xem </span></td>
                            }
                            else if (@item.CV_STATUS == 2)
                            {
                                <td><span class="label label-info">Chờ phỏng vấn</span></td>
                            }
                            else if (@item.CV_STATUS == 3)
                            {
                                <td><span class="label label-success">Đã duyệt</span></td>
                            }
                            else if (@item.CV_STATUS == 4)
                            {
                                <td><span class="label label-danger">Loại</span></td>
                            }
                            else if (@item.CV_STATUS == 5)
                            {
                                <td><span class="label label-success">Đã xem</span></td>

                            }
                            <td class="center">
                                <div class="visible-md visible-lg hidden-sm hidden-xs">
                                    <a href="@Url.Action("Delete/"+item.CV_ID+"","Candidates")" data-toggle="modal" class="btn btn-xs btn-danger tooltips" data-tooltip="Xóa" data-placement="top" data-original-title="Xóa"><i class="fa fa-trash"></i></a>
                                </div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>
        <!-- /.col -->
    </div>
    <div class="pager">
        <ul class="pager" style="float:right"> @Html.Pager((int)ViewBag.pagesize, (int)ViewBag.pageno, (int)ViewBag.totalrow).Options(o => o.Action("Index").RouteValues(new { Candidate_Name = ViewBag.currentFilter, Job_Id = ViewBag.jobidFilter, Group_Id = ViewBag.groupidFilter, status = ViewBag.statusFilter }))</ul>

</div>

@section scripts{
    <script>
function format_curency(a) {
  	a.value = a.value.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.");
}
    </script>
}